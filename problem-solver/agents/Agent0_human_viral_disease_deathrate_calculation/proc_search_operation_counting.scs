scp_program -> proc_search_operation_counting (* 


 ->rrel_params: ... (* 
  -> rrel_1: rrel_in: _parameter;; 
  -> rrel_2: rrel_in: _answer;; 
 *);; 


 ->rrel_operators: ... (*
 
  ->rrel_init: .proc_search_operation_operator_counting2 (* 
  <- genElStr3;; 
    -> rrel_1: rrel_fixed: rrel_scp_var: _answer;; 
    -> rrel_2: rrel_assign: rrel_pos_const_perm: rrel_scp_var: _arc1;; 
    -> rrel_3: rrel_fixed: rrel_scp_var: _parameter;; 
 
    =>nrel_goto: .proc_search_operation_operator_counting3;; 
  *);; 

  // Получение аттрибутов для вычисления 
  -> .proc_search_operation_operator_counting3 (* 
	<- searchElStr5 ;;

			-> rrel_1 : rrel_fixed : rrel_scp_var : rrel_node: _parameter ;;
			-> rrel_2 : rrel_assign: rrel_scp_var: rrel_common : _com4 ;;
			-> rrel_3 : rrel_assign: rrel_scp_var: rrel_link: _dead ;;
			-> rrel_4 : rrel_assign: rrel_scp_var: rrel_pos_const_perm: _arc4;;
			-> rrel_5 : rrel_fixed: rrel_scp_const: nrel_dead ;;
 
    =>nrel_then: .proc_search_operation_operator_counting3a;; 
    =>nrel_else: .proc_search_operation_operator_counting7a;; 
  *);; 
 
  -> .proc_search_operation_operator_counting3a (* 
	<- searchElStr5 ;;

			-> rrel_1 : rrel_fixed : rrel_scp_var : rrel_node: _parameter ;;
			-> rrel_2 : rrel_assign: rrel_scp_var: rrel_common : _com5 ;;
			-> rrel_3 : rrel_assign: rrel_scp_var: rrel_link: _ill ;;
			-> rrel_4 : rrel_assign: rrel_scp_var: rrel_pos_const_perm: _arc5;;
			-> rrel_5 : rrel_fixed: rrel_scp_const: nrel_ill ;;
 
    =>nrel_then: .proc_search_operation_operator_counting4;; 
    =>nrel_else: .proc_search_operation_operator_counting7a;; 
  *);; 

  // Вычисление
  -> .proc_search_operation_operator_counting4 (* 
		<- contDiv ;;

		-> rrel_1: rrel_assign: rrel_scp_var: rrel_link: _div_res;;
		-> rrel_2: rrel_fixed: rrel_scp_var: _dead ;;
		-> rrel_3: rrel_fixed: rrel_scp_var: _ill ;;
 
		=> nrel_goto: .proc_search_operation_operator_counting5 ;;

  *);; 
 
  // Связывание результата вычисления с входным параметром (заболеванием) отношением Смертность*
  -> .proc_search_operation_operator_counting5 (* 

		<- genElStr5;;

		-> rrel_1: rrel_fixed: rrel_scp_var: _parameter;;
		-> rrel_2: rrel_assign: rrel_scp_var: rrel_common: rrel_const: _com;;
		-> rrel_3: rrel_fixed: rrel_scp_var: _div_res;;
		-> rrel_4: rrel_assign: rrel_scp_var: rrel_pos_const_perm: _arc;;
		-> rrel_5: rrel_fixed: rrel_scp_const: nrel_deathrate;;
 
    =>nrel_goto: .proc_search_operation_operator_counting6;; 
  *);; 

  -> .proc_search_operation_operator_counting6 (* 

  // Зачем-то привязываем это и к ответу (лучше просто после завершения работы агента обновить страницу с заболеванием, которое подавали в качестве параметра) 
  <- genElStr3;; 
	-> rrel_1: rrel_fixed: rrel_scp_var: _answer;; 
    	-> rrel_2: rrel_assign: rrel_pos_const_perm: rrel_scp_var: _arc1;; 
    	-> rrel_3: rrel_fixed: rrel_scp_var: _div_res;; 
 
 
    =>nrel_goto: .proc_search_operation_operator_counting7;;  
  *);; 
 
// вывод сообщения об ошибке (не получилось определить аттрибуты)  
  -> .proc_search_operation_operator_counting7a (* 

  <- print;; 
    -> rrel_1: rrel_fixed: rrel_scp_const: [Error while looking for attributes];; 
 
 
    =>nrel_goto: .proc_search_operation_operator_counting_return;;  
  *);; 
// вывод сообщения об успешном вычислении 
  -> .proc_search_operation_operator_counting7 (* 

  <- print;; 
    -> rrel_1: rrel_fixed: rrel_scp_const: [Deathrate calculation done];; 
 
 
    =>nrel_goto: .proc_search_operation_operator_counting_return;;  
  *);; 

  -> .proc_search_operation_operator_counting_return (* 
  <- return;; 
  *);; 
*);;
*);;
